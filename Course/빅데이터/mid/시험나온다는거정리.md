# 벡터
## 벡터 작성
### **1. `c()` 함수 사용**
- **설명**: `c()`는 벡터를 생성하는 가장 기본적인 함수입니다.
- **사용법**:
  ```R
  vec <- c(1, 2, 3, 4, 5)  # 숫자 벡터 생성
  char_vec <- c("A", "B", "C")  # 문자 벡터 생성
  logical_vec <- c(TRUE, FALSE, TRUE)  # 논리값 벡터 생성
  ```

---

### **2. 숫자 범위 작성 (`:` 연산자)**
- **설명**: 숫자 범위를 벡터 형태로 생성합니다.
- **사용법**:
  ```R
  vec <- 1:10  # 1부터 10까지의 연속 숫자 벡터
  ```

---

### **3. `seq()` 함수 사용**
- **설명**: 숫자 범위를 생성하며, 간격을 설정할 수 있습니다.
- **사용법**:
  ```R
  vec <- seq(from = 1, to = 10, by = 2)  # 1부터 10까지 2 간격으로 숫자 생성
  ```

---

### **4. `rep()` 함수 사용**
- **설명**: 특정 값을 반복하여 벡터를 생성합니다.
- **사용법**:
  ```R
  vec <- rep(5, times = 3)  # 숫자 5를 3번 반복
  char_vec <- rep("A", times = 4)  # 문자 "A"를 4번 반복
  ```

---

### **5. 벡터 값 이름 지정**
- **설명**: 벡터의 각 값에 이름을 지정할 수 있습니다.
- **사용법**:
  ```R
  vec <- c(1, 2, 3)
  names(vec) <- c("A", "B", "C")
  vec  # 결과: A B C
        #       1 2 3
  ```

---

### **6. 벡터 데이터 타입**
- 벡터에는 한 가지 데이터 타입만 포함할 수 있습니다.
  ```R
  num_vec <- c(1, 2, 3)  # 숫자형 벡터
  char_vec <- c("a", "b", "c")  # 문자형 벡터
  logical_vec <- c(TRUE, FALSE)  # 논리형 벡터
  ```

---

### **7. 벡터 연산**
- 벡터의 원소별 연산을 수행할 수 있습니다.
  ```R
  vec1 <- c(1, 2, 3)
  vec2 <- c(4, 5, 6)
  result <- vec1 + vec2  # 결과: c(5, 7, 9)
  ```

---

### **8. 조건을 활용한 값 선택**
- 벡터에서 조건을 활용해 특정 값을 선택할 수 있습니다.
  ```R
  vec <- c(1, 2, 3, 4, 5)
  selected <- vec[vec > 3]  # 결과: c(4, 5)
  ```

---
## 벡터 활용 함수 (날짜 활용 문제 잘 보기)
### **1. 벡터 생성 함수**
- **`c()`**: 벡터 생성
  ```R
  vec <- c(1, 2, 3, 4, 5)  # 결과: 1, 2, 3, 4, 5
  ```

- **`seq()`**: 특정 범위와 간격으로 벡터 생성
  ```R
  vec <- seq(1, 10, by = 2)  # 결과: 1, 3, 5, 7, 9
  ```

- **`rep()`**: 벡터 요소 반복
  ```R
  vec <- rep(1:3, times = 2)  # 결과: 1, 2, 3, 1, 2, 3
  ```

---

### **2. 벡터 속성 확인 함수**
- **`length()`**: 벡터 길이 확인
  ```R
  length(c(1, 2, 3))  # 결과: 3
  ```

- **`class()`**: 벡터 데이터 타입 확인
  ```R
  class(c(1, 2, 3))  # 결과: "numeric"
  ```
---

### **3. 벡터 정렬 및 순서**
- **`sort()`**: 벡터 값 정렬
  ```R
  vec <- c(3, 1, 2)
  sort(vec)  # 결과: 1, 2, 3
  sorted_vec <- sort(vec, decreasing = TRUE)  # 내림차순 정렬
  ```


---

### **4. 벡터 조작 및 변환**
- **`append()`**: 벡터에 요소 추가
  ```R
  vec <- c(1, 2)
  append(vec, 3)  # 결과: 1, 2, 3
  ```
---

### **5. 벡터 산술 및 논리 연산**
- **`sum()`**: 합계 계산
  ```R
  sum(c(1, 2, 3))  # 결과: 6
  ```
---

### **6. 벡터 값 선택 및 조건**
- **`%in%`**: 벡터 값 포함 여부 확인
  ```R
  c(1, 2, 3) %in% c(2, 4)  # 결과: FALSE, TRUE, FALSE
  ```
---

### **7. 벡터 간 연산**
- **원소별 연산**:
  ```R
  vec1 <- c(1, 2, 3)
  vec2 <- c(4, 5, 6)
  vec1 + vec2  # 결과: 5, 7, 9
  ```

- **교집합, 합집합, 차집합**:
  ```R
  intersect(c(1, 2, 3), c(2, 3, 4))  # 결과: 2, 3
  union(c(1, 2, 3), c(2, 3, 4))      # 결과: 1, 2, 3, 4
  setdiff(c(1, 2, 3), c(2, 3, 4))    # 결과: 1
  ```

---

### **8. 벡터 변환**
- **`as.numeric()`**, **`as.character()`**, **`as.logical()`**: 데이터 타입 변환
  ```R
  as.character(c(1, 2, 3))  # 결과: "1", "2", "3"
  ```
  ---

# 연산자 활용
### **1. 산술 연산자**
데이터의 수학적 계산을 수행합니다.

| **연산자** | **기능**         | **예제**            | **결과**      |
|------------|-----------------|---------------------|---------------|
| `+`        | 덧셈            | `5 + 3`            | `8`           |
| `-`        | 뺄셈            | `5 - 3`            | `2`           |
| `*`        | 곱셈            | `5 * 3`            | `15`          |
| `/`        | 나눗셈          | `5 / 3`            | `1.666667`    |
| `%%`       | 나머지 계산     | `5 %% 3`           | `2`           |
| `%/%`      | 몫 계산         | `5 %/% 3`          | `1`           |
| `^`        | 제곱            | `5 ^ 3`            | `125`         |

---

### **2. 비교 연산자**
데이터 간의 조건을 평가합니다.

| **연산자** | **기능**               | **예제**          | **결과**       |
|------------|-----------------------|-------------------|----------------|
| `==`       | 같음                  | `5 == 3`         | `FALSE`        |
| `!=`       | 같지 않음             | `5 != 3`         | `TRUE`         |
| `<`        | 작음                  | `5 < 3`          | `FALSE`        |
| `>`        | 큼                   | `5 > 3`          | `TRUE`         |
| `<=`       | 작거나 같음           | `5 <= 3`         | `FALSE`        |
| `>=`       | 크거나 같음           | `5 >= 3`         | `TRUE`         |

---

### **3. 논리 연산자**
참(`TRUE`) 또는 거짓(`FALSE`)을 평가합니다.

| **연산자** | **기능**                  | **예제**               | **결과**       |
|------------|--------------------------|-----------------------|----------------|
| `&`        | AND(모두 참이면 참)       | `TRUE & FALSE`        | `FALSE`        |
| `|`        | OR(하나라도 참이면 참)    | `TRUE | FALSE`        | `TRUE`         |
| `!`        | NOT(참 → 거짓, 거짓 → 참) | `!TRUE`               | `FALSE`        |

---

### **5. 특수 연산자**
R에서 제공하는 독특한 데이터 처리 연산자입니다.

| **연산자**    | **기능**                         | **예제**                    | **결과**         |
|---------------|---------------------------------|----------------------------|------------------|
| `%in%`        | 값이 포함되어 있는지 확인         | `3 %in% c(1, 2, 3)`         | `TRUE`           |
| `:`           | 범위 생성                        | `1:5`                      | `1, 2, 3, 4, 5`  |
| `%*%`         | 행렬 곱셈                        | `matrix1 %*% matrix2`       | 행렬 곱 결과     |
| `%>%`         | 파이프 연산자로 작업 연결         | `df %>% filter(x > 3)`      | 파이프 작업 연결 |

---

### **6. 벡터 연산 활용**
- **벡터 간 연산**: 산술 연산자가 각 벡터의 원소에 적용됩니다.
  ```R
  vec1 <- c(1, 2, 3)
  vec2 <- c(4, 5, 6)
  vec1 + vec2  # 결과: c(5, 7, 9)
  ```

- **조건 연산**: 비교 연산자를 사용해 조건에 맞는 값 선택.
  ```R
  vec <- c(1, 2, 3, 4, 5)
  vec[vec > 3]  # 결과: c(4, 5)
  ```
---

# **1. 데이터 프레임 (Data Frame)**  
행과 열로 구성된 2차원 데이터 테이블   
다양한 데이터 타입(숫자, 문자, 논리형 등)을 각 열에 저장

#### **데이터 프레임 관련 주요 함수**
| **함수**          | **역할**                              | **예제**                                |
|-------------------|--------------------------------------|----------------------------------------|
| `data.frame()`    | 데이터 프레임 생성                    | `df <- data.frame(x = 1:3, y = c("A", "B", "C"))` |
| `nrow()`          | 행의 개수 반환                       | `nrow(df)`                             |
| `ncol()`          | 열의 개수 반환                       | `ncol(df)`                             |
| `colnames()`      | 열 이름 반환 또는 수정                | `colnames(df)` / `colnames(df) <- c("col1", "col2")` |
| `rownames()`      | 행 이름 반환 또는 수정                | `rownames(df)` / `rownames(df) <- c("r1", "r2", "r3")` |
| `str()`           | 구조를 보여줌                        | `str(df)`                              |
| `summary()`       | 각 열의 요약 통계 정보 제공           | `summary(df)`                          |
| `head()`          | 상위 행을 반환                       | `head(df, n = 3)`                      |
| `tail()`          | 하위 행을 반환                       | `tail(df, n = 3)`                      |
| `subset()`        | 조건에 따라 행 선택                  | `subset(df, x > 1)`                    |
| `[ , ]`           | 특정 행과 열 선택                    | `df[1:2, "y"]`                         |

### dplyr 패키지
데이터를 조작하고 분석하는 데 사용   
`dplyr`은 데이터프레임 기반의 작업에 초점, 데이터를 필터링, 선택, 그룹화 요약하는 작업

---

### **1. `dplyr`의 주요 특징**
- **파이프 연산자(`%>%`)를 사용하여 작업을 연결**:
- **데이터 조작 기능**:
  - 데이터 필터링, 정렬, 열 선택, 그룹화 및 요약 등 다양한 작업을 쉽게 수행.

---

### **2. `dplyr`의 주요 함수**
| **함수**         | **역할**                                       | **사용 예제**                                     |
|------------------|-----------------------------------------------|-------------------------------------------------|
| `filter()`       | 조건에 맞는 행 선택                            | `filter(df, column > 10)`                      |
| `select()`       | 특정 열 선택                                   | `select(df, column1, column2)`                 |
| `mutate()`       | 새로운 열 추가 또는 기존 열 수정               | `mutate(df, new_col = column1 * 2)`            |
| `arrange()`      | 데이터 정렬                                    | `arrange(df, column)`                          |
| `summarise()`    | 그룹별 요약 통계 계산                          | `summarise(df, mean_col = mean(column))`       |
| `across()`       | 여러 열에 대해 함수 적용                       | `summarise(across(everything(), mean))`        |
| `rename()`       | 열 이름 변경                                   | `rename(df, new_name = old_name)`              |
---

### **3. `dplyr`의 파이프 연산자 `%>%`**
- **역할**: 여러 작업을 연결하여 가독성을 높이고 작업을 순차적으로 수행할 수 있게 합니다.
- **예제**:
  ```R
  df %>%
    filter(column > 10) %>%
    select(column1, column2) %>%
    arrange(desc(column1))
  ```

- 결과적으로 조건에 맞는 데이터를 필터링하고, 특정 열만 선택한 뒤, 열 값의 내림차순으로 정렬합니다.

---

### **4. `dplyr` 사용 예제**
#### **데이터 준비**
```R
library(dplyr)

df <- data.frame(
  name = c("A", "B", "C", "D"),
  score = c(85, 90, 78, 92),
  grade = c("B", "A", "C", "A")
)
```

#### **예제 1: 필터링**
```R
df %>%
  filter(score > 80)
```
- 결과:
  ```
    name score grade
  1    A    85     B
  2    B    90     A
  3    D    92     A
  ```

#### **예제 2: 그룹화 및 요약**
```R
df %>%
  group_by(grade) %>%
  summarise(mean_score = mean(score))
```
- 결과:
  ```
    grade mean_score
  1     A       91
  2     B       85
  3     C       78
  ```

#### **예제 3: 열 선택 및 정렬**
```R
df %>%
  select(name, score) %>%
  arrange(desc(score))
```
- 결과:
  ```
    name score
  1    D    92
  2    B    90
  3    A    85
  4    C    78
  ```
---

# **2. 행렬 (Matrix)**  
행렬은 동일한 데이터 타입(숫자형, 문자형 등)으로 이루어진 2차원 배열

#### **행렬 생성 및 활용 함수**
| **함수**           | **역할**                              | **예제**                                |
|--------------------|--------------------------------------|----------------------------------------|
| `matrix()`         | 행렬 생성                            | `mat <- matrix(1:9, nrow = 3, byrow = TRUE)` |
| `dim()`            | 행렬의 차원 확인                     | `dim(mat)`                             |
| `nrow()`, `ncol()` | 행렬의 행, 열 개수 확인               | `nrow(mat)` / `ncol(mat)`              |
| `rownames()`       | 행 이름 설정 또는 반환                | `rownames(mat) <- c("A", "B", "C")`    |
| `colnames()`       | 열 이름 설정 또는 반환                | `colnames(mat) <- c("X", "Y", "Z")`    |
| `t()`              | 행렬 전치 (행과 열 변경)             | `t(mat)`                               |
| `%*%`              | 행렬 곱셈                           | `mat1 %*% mat2`                        |
| `apply()`          | 행이나 열 단위로 함수 적용           | `apply(mat, 1, sum)`                   |
| `rbind()`          | 행 결합                              | `rbind(mat, c(10, 11, 12))`            |
| `cbind()`          | 열 결합                              | `cbind(mat, c(10, 20, 30))`            |

---

# **3. 리스트 (List)**  
리스트는 R에서 서로 다른 데이터 타입(숫자형, 문자형, 데이터 프레임 등)을 저장할 수 있는 1차원 구조

#### **리스트 생성 및 활용 함수**
| **함수**          | **역할**                              | **예제**                                |
|-------------------|--------------------------------------|----------------------------------------|
| `list()`          | 리스트 생성                          | `lst <- list(vec = 1:3, mat = matrix(1:4, nrow = 2))` |
| `length()`        | 리스트 요소 개수 반환                | `length(lst)`                          |
| `names()`         | 리스트 요소 이름 반환 또는 지정       | `names(lst)` / `names(lst) <- c("A", "B")` |
| `$`               | 리스트의 특정 요소 선택              | `lst$vec`                              |
| `[[ ]]`           | 리스트의 특정 요소 선택              | `lst[[1]]`                             |
| `[ ]`             | 서브리스트 반환                     | `lst[1]`                               |
| `lapply()`        | 리스트의 각 요소에 함수 적용         | `lapply(lst, sum)`                     |
| `sapply()`        | 리스트의 각 요소에 함수 적용 후 벡터 반환 | `sapply(lst, length)`                 |
| `unlist()`        | 리스트를 벡터로 변환                | `unlist(lst)`                          |
| `append()`        | 리스트에 요소 추가                  | `lst <- append(lst, list(new = c(5, 6)))` |

---
## apply() 계열 함수
### **1. `apply()`**
- **역할**: 행렬 또는 배열의 행/열 방향으로 함수를 적용.
- **사용 대상**: 행렬, 배열.
- **구문**:
  ```R
  apply(X, MARGIN, FUN, ...)
  ```
  - `X`: 대상 데이터(행렬 또는 배열).
  - `MARGIN`: 1이면 행, 2이면 열 방향.
  - `FUN`: 적용할 함수.
- **예제**:
  ```R
  mat <- matrix(1:9, nrow = 3)
  apply(mat, 1, sum)  # 행 단위 합계 계산
  apply(mat, 2, mean)  # 열 단위 평균 계산
  ```

---

### **1-2. `lapply()`**
- **역할**: 리스트 또는 벡터의 각 요소에 함수를 적용하여 리스트로 반환.
- **사용 대상**: 리스트, 벡터.
- **구문**:
  ```R
  lapply(X, FUN, ...)
  ```
  - `X`: 대상 데이터(리스트 또는 벡터).
  - `FUN`: 적용할 함수.
- **예제**:
  ```R
  lst <- list(a = 1:5, b = 6:10)
  lapply(lst, sum)  # 각 리스트 요소의 합 계산
  ```

---

### **1-3. `sapply()`**
- **역할**: `lapply()`와 유사하지만, 결과를 벡터나 행렬로 반환.
- **사용 대상**: 리스트, 벡터.
- **구문**:
  ```R
  sapply(X, FUN, ...)
  ```
  - `X`: 대상 데이터.
  - `FUN`: 적용할 함수.
- **예제**:
  ```R
  sapply(lst, sum)  # 리스트의 각 요소 합을 벡터로 반환
  ```

---

### **1-4. `tapply()`**
- **역할**: 데이터를 그룹화하여 함수 적용.
- **사용 대상**: 벡터(그룹 정보 포함).
- **구문**:
  ```R
  tapply(X, INDEX, FUN, ...)
  ```
  - `X`: 대상 벡터.
  - `INDEX`: 그룹화 기준 (같은 길이의 벡터 또는 팩터).
  - `FUN`: 적용할 함수.
- **예제**:
  ```R
  vec <- c(1, 2, 3, 4, 5, 6)
  group <- c("A", "A", "B", "B", "C", "C")
  tapply(vec, group, sum)  # 그룹별 합계 계산
  ```

---

### **1-5. `mapply()`**
- **역할**: 여러 개의 벡터 또는 리스트 요소를 병렬로 처리.
- **사용 대상**: 여러 벡터, 리스트.
- **구문**:
  ```R
  mapply(FUN, ..., MoreArgs = list())
  ```
  - `FUN`: 적용할 함수.
  - `...`: 처리할 여러 벡터 또는 리스트.
- **예제**:
  ```R
  mapply(sum, c(1, 2, 3), c(4, 5, 6))  # 각 위치의 요소 합 계산
  ```
---

### **적용 요약**

| 함수      | **주요 대상**            | **결과 형태**       | **특징**                            |
|-----------|-------------------------|--------------------|------------------------------------|
| `apply()` | 행렬, 배열               | 벡터, 행렬          | 행/열 단위 작업 수행               |
| `lapply()`| 리스트, 벡터             | 리스트              | 각 요소별 함수 적용                 |
| `sapply()`| 리스트, 벡터             | 벡터, 행렬          | `lapply()`와 유사하나 결과 변환      |
| `tapply()`| 벡터(그룹화 가능)        | 배열                | 그룹화된 데이터 요약 계산           |
| `mapply()`| 여러 리스트/벡터         | 리스트, 벡터        | 병렬 처리 수행                      |

---
### 2. plyr패키지
apply() 함수 확장 ,  `plyr` 패키지는 입력 및 출력 데이터 구조에 따라 다양한 함수들을 제공   
**두 개의 문자 코드로 이름이 지정**되며, 입력 유형과 출력 유형을 나타냅니다.

### **plyr 함수명 해석**
- 함수명은 **입력 유형**과 **출력 유형**을 나타냅니다:
  - **첫 번째 문자**:
    - `d`: 데이터프레임 (data frame)
    - `l`: 리스트 (list)
    - `a`: 배열 (array)
  - **두 번째 문자**:
    - `d`: 데이터프레임으로 반환
    - `l`: 리스트로 반환
    - `a`: 배열로 반환
  - 예: `dlply()`는 데이터프레임(`d`)을 입력받아 리스트(`l`)로 반환.

---
### **plyr 패키지의 주요 함수들**
| **함수**   | **설명**                                                                                     | **입력**      | **출력**     |
|------------|---------------------------------------------------------------------------------------------|---------------|--------------|
| `ddply()`  | 데이터프레임을 그룹화하고 요약 계산.                                                         | 데이터프레임  | 데이터프레임 |
| `dlply()`  | 데이터프레임을 그룹화하고 리스트로 반환.                                                      | 데이터프레임  | 리스트       |
---


### **주요 함수 사용 예제**

#### **1. `ddply()`**: 데이터프레임 요약
```R
library(plyr)

df <- data.frame(group = c("A", "A", "B", "B"),                     
                 value = c(10, 20, 30, 40))

# 그룹별 평균 계산
ddply(df, "group", summarise, mean_value = mean(value))
```
**결과**:
```R
  group mean_value
1     A       15.0
2     B       35.0
```

---

#### **2. `dlply()`**: 데이터프레임 → 리스트
```R
# 그룹별 데이터를 리스트로 반환
dlply(df, "group", summarise, mean_value = mean(value))
```
**결과**:
```R
$A
  group mean_value
1     A       15.0

$B
  group mean_value
1     B       35.0
```

# subset() 함수
### **`subset()` 함수**
데이터프레임, 벡터, 리스트 등에서 특정 조건에 맞는 요소를 선택하는 데 사용
---

### **기본 구문**
```R
subset(x, subset, select)
```
- **`x`**: 원본 데이터 (예: 데이터프레임, 벡터 등).
- **`subset`**: 조건을 지정하여 데이터를 필터링.
- **`select`**: 선택할 열을 지정.

---

### **1. 데이터 필터링**
#### **예제**
```R
df <- data.frame(
  name = c("Alice", "Bob", "Charlie"),
  score = c(85, 90, 78),
  grade = c("B", "A", "C")
)

# score가 80보다 큰 행 선택
filtered_data = subset(df, score > 80)
```
**결과**:
```
     name score grade
1   Alice    85     B
2     Bob    90     A
```

---

### **2. 특정 열 선택**
#### **예제**
```R
# score가 80보다 큰 행에서 name과 grade 열만 선택
filtered_data <- subset(df, score > 80, select = c(name, grade))
```
**결과**:
```
     name grade
1   Alice     B
2     Bob     A
```

---

### **3. 벡터에서 사용**
`subset()`은 벡터에서도 사용 가능합니다.
#### **예제**
```R
vec <- c(10, 20, 30, 40)

# 값이 25보다 큰 값 선택
subset(vec, vec > 25)
```
**결과**:
```
[1] 30 40
```

---

### **4. 조건 결합 `&`**
#### **예제**
```R
filtered_data <- subset(df, score > 80 & grade == "A")
```
**결과**:
```
  name score grade
2  Bob    90     A
```
---

### **5. 결합 옵션: `select = -`**
열 이름 앞에 **`-`**를 붙이면 특정 열을 제외할 수 있습니다.
#### **예제**
```R
# 특정 열 제외 (score 열 제외)
filtered_data <- subset(df, score > 80, select = -score)
```
**결과**:
```
     name grade
1   Alice     B
2     Bob     A
```

---

### **6. 실용적 활용**
#### 비교: `subset()` vs `filter()`
| **기능**             | **`subset()`**                                  | **`filter()` (`dplyr`)**                  |
|---------------------|-----------------------------------------------|-----------------------------------------|
| **필터링 조건**      | 간단한 조건 적용 가능                            | 복잡한 조건에 적합                        |
| **열 선택**          | 직접 열 선택 가능                                 | 추가 작업으로 열 선택                     |
| **속도 및 효율성**   | 적은 데이터에서는 괜찮음                          | 대규모 데이터 처리에 더 적합              |
---
